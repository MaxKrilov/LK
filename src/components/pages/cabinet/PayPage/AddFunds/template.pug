// Add Funds

div(:class="`${pre}`").main-content.main-content--h-padding
  div.main-content--top-padding(:class="`${pre}__back-main`")
  div(:class="`${pre}__container-main`").main-content--top-menu-fix
    div.caption(:class="`${pre}__back-main`")
      div.ml-auto
        er-icon(name="arrow_l" :class="`${pre}__icon-height`")
        a.caption2(
          href="#"
          :class="`${pre}__back-main__text`"
          @click="paypage"
        )
          | Назад в платежи и начисления

    div.mb-8.d--flex.align-items-start(:class="`${pre}__back-arr`")
      div(:class="`${pre}__back-main-xs`" @click="paypage")
        er-icon(name="left")
      h1.fonts--demi(:class="`${pre}__welcome-title`")
        | Пополнить счет

    div(:class="`${pre}__main`" v-if="visInfo")
      div(:class="`${pre}__line`")
      div(full :class="`${pre}__sum`")
        div.d--flex(:class="`${direct}`")
          er-flex.mb-16.pr-8(
            xs12
            md12
            lg4 xl5
            order-xs2
            order-lg1
            :class="`${pre}__sum__pos`"
          )
            h4(:class="`${pre}__sum__title`") Сумма оплаты
            div(:class="`${pre}__sum__input`")
              er-text-field(
                :value="sumPay"
                mask="999 999,99"
              )
                template(slot="append-inner")
                  div.rub

            div(:class="`${pre}__sum__remember`")
              span
                er-toggle(
                  v-model="selected"
                  @click="autopay"
                )
              span.mb-4(
                :class="`${pre}__sum__autopay`"
                @click="payAutoTextConfirm"
              )
                | {{ checkAutoPay }}
              span()
                er-hint(:class="`${pre}__sum__hint`").ml-8
                  h3.mb-8
                    | Автоплатёж
                  | — это бесплатный сервис.<br /><br />
                  | {{ textOnAutopay }}
                div(@click="payAutoConfirm")
                  er-icon(
                    name="question"
                    :class="`${pre}__sum__confirm`"
                  )

            div(:class="`${pre}__sum__button`")
              er-button(
                width="100%",
                @click="paymentConfirm"
              ) Пополнить счёт
            div(:class="`${pre}__sum__text`")
              | Нажимая на кнопку, Вы принимаете&ensp;
              a(
              href="https://console.ertelecom.ru/files/upload/d/1/0/d108447fbf9c5d88c2801d14a6e76725.pdf",
              target="_blank"
              ) условия оплаты и безопасности

          er-flex(
            xs12
            md12
            lg8 xl7
            order-xs1
            order-lg2
            :class="`${pre}__sum__move-card`"
          )
            PayCard(
              @openDelConfirm="openDelConfirm"
              @openRemcard="openRemcard"
            )

    PaymentsOn(v-if="!visInfo && success" @try="tryAgain")
    PaymentsOff(v-if="!visInfo && !success" @try="tryAgain")

    div(:class="`${pre}__check`" v-if="visInfo")#get-check
      div(:class="`${pre}__check__decoration`")
        div(:class="`${pre}__check__decoration-line`")
      div(:class="`${pre}__check__get-check`")
        div(:class="`${pre}__check__header`")
          h3(:class="`${pre}__check__title`") Отправить чек
          span()
            er-hint(:class="`${pre}__sum__hint__check`")
              h3.mb-8
                | Получение чека
              | {{ textCheck }}
            div(@click="checkConfirm")
              er-icon(
                name="question"
                :class="`${pre}__sum__confirm__check`"
              )
        div(:class="`${pre}__check__body`")
          div.caption(:class="`${pre}__check__input`")
            | на электронную почту:
          er-select(
            placeholder="konstantinopolsky@company.ru",
          )

    // Чек
    er-overlay(
    v-model="openConfirmCheck"
    :z-index="12"
    :class="`${pre}__left`"
    )
    div(:class="`${pre}__confirm__check`" v-if="openConfirmCheck")
      div(:class="`${pre}__confirm__content`")
        er-container(:class="`${pre}__confirm__header`")
          er-row.no-gutters.mb-24.d--flex.justify-content-between
            er-flex.mb-60(xs12 sm4)
              er-icon(name="question" :class="`${pre}__confirm__icon-height`")
            er-flex(xs12 sm8)
              h3(:class="`${pre}__confirm__text__title__remcard`")
                | Отправить чек
        div(:class="`${pre}__confirm__text`")
          | {{ textCheck }}

      div(
      :class="`${pre}__confirm__close`"
      @click="closeConfirm"
      )
        er-icon(name="close")

      er-container(full :class="`${pre}__confirm__container-button`")
        er-row.no-gutters(:class="`${pre}__confirm__butt`")
          er-flex(offset-xs9 sm3)
            div(:class="`${pre}__confirm__yes__check`")
              a(
              @click="closeConfirm"
              :class="`${pre}__confirm__yes__text`"
              v-if="visButtConf"
              ) Понятно

    // Пополнение
    er-overlay(
      v-model="openConfirmPay"
      :z-index="12"
      :class="`${pre}__left`"
    )
    div(:class="`${pre}__confirm`" v-if="openConfirmPay")
      div(:class="`${pre}__confirm__content`")
        div(:class="`${pre}__confirm__content__size`")
          er-icon(name="question" :class="`${pre}__confirm__icon-height`")
        div(:class="`${pre}__confirm__content__pos`")
          h4
            | Вы уверены, что хотите оплатить
          div.d--flex
            span
              h3
                | 100 500
            span
              h3(:class="`${pre}__confirm__decimal`")
                | ,00
            div.rub(:class="`${pre}__confirm__currency`")
          h4
            | сохраненной картой:
          h3
            | МИР, 5402 33 ** **** 2365

      div(
        :class="`${pre}__confirm__close`"
        @click="closeConfirm"
      )
        er-icon(name="close")
      er-container(full :class="`${pre}__confirm__container-button`")
        er-row.justify-content-start.no-gutters
          er-flex.pr-28(xs3 xl6)
            er-button(
              type="submit"
              @click="paymentsOn"
              v-if="!visButtConf"
            ) Оплатить
          er-flex.pr-24.pl-4(xs3 xl6)
            er-button.align-items-center(
              type="submit"
              flat=true
              @click="paymentsOff"
              v-if="!visButtConf"
            ) Отменить

        er-row.no-gutters(:class="`${pre}__confirm__butt`")
          er-flex(xs3 xl6)
            div(:class="`${pre}__confirm__no__payment`")
              a(
                @click="paymentsOff"
                :class="`${pre}__confirm__no__text`"
                v-if="visButtConf"
              ) Отменить
          er-flex(xs3 xl6)
            div(:class="`${pre}__confirm__yes__payment`")
              a(
                  @click="paymentsOn"
                  :class="`${pre}__confirm__yes__text`"
                  v-if="visButtConf"
              ) Оплатить

    // Запомнить карту
    er-overlay(
      v-model="openConfirmDataCard"
      :z-index="12"
      :class="`${pre}__left`"
    )
    div(:class="`${pre}__confirm`" v-if="openConfirmDataCard")
      div(:class="`${pre}__confirm__content`")
        er-container(:class="`${pre}__confirm__header`")
          er-row.no-gutters.mb-16.d--flex.justify-content-between
            er-flex.mb-60(xs12 sm4)
              er-icon(name="question" :class="`${pre}__confirm__icon-height`")
            er-flex(xs12 sm8)
              h3(:class="`${pre}__confirm__text__title__remcard`")
                | Данные карты
        div(:class="`${pre}__confirm__text`")
          | {{ textRemcard }}
      div(
        :class="`${pre}__confirm__close`"
        @click="closeConfirm"
      )
        er-icon(name="close")

      er-container(full :class="`${pre}__confirm__container-button__remcard`")
        er-row.no-gutters(:class="`${pre}__confirm__butt`")
          er-flex(xs5 sm5 md4 xl6)
            div(:class="`${pre}__confirm__no__remcard`")
              a(
                @click="remcardButtLeft"
                :class="`${pre}__confirm__no__text`"
              ) Не сохранять
          er-flex(xs7 sm6 md6 xl6)
            div(:class="`${pre}__confirm__yes__remcard`")
              a(
                @click="remcardButtRight"
                :class="`${pre}__confirm__yes__text`"
              ) Запомнить карту


    // Автоплатеж
    er-overlay(
      v-model="openConfirmAutoPay"
      :z-index="12"
      :class="`${pre}__left`"
    )
    div(:class="`${pre}__confirm`" v-if="openConfirmAutoPay")
      div(:class="`${pre}__confirm__content`")
        er-container(:class="`${pre}__confirm__header`")
          er-row.no-gutters.mb-24.d--flex.justify-content-between
            er-flex.mb-60(xs12 sm4)
              er-icon(name="question" :class="`${pre}__confirm__icon-height`")
            er-flex(xs12 sm8)
              h3(:class="`${pre}__confirm__text__title`")
                | Автоплатёж
              div(:class="`${pre}__confirm__text__header`")
                | — это бесплатный сервис.
        div(:class="`${pre}__confirm__text`")
          | {{ textOnAutopay }}

      div(
        :class="`${pre}__confirm__close`"
        @click="closeConfirm"
      )
        er-icon(name="close")

      er-container(full :class="`${pre}__confirm__container-button`")
        er-row.no-gutters(:class="`${pre}__confirm__butt`")
          er-flex(xs7 sm4 xl6)
            div(:class="`${pre}__confirm__no__pay`")
              a(
                @click="autopayButtLeft"
                :class="`${pre}__confirm__no__text`"
                v-if="visButtConf"
              ) {{ buttLeft }}
          er-flex(xs5 sm3 md4 xl6)
            div(:class="`${pre}__confirm__yes__pay`")
              a(
                @click="autopayButtRight"
                :class="`${pre}__confirm__yes__text`"
                v-if="visButtConf"
              ) {{ buttRight }}

    // Удалить карту
    er-overlay(
      v-model="openConfirmDel"
      :z-index="12"
      :class="`${pre}__left`"
    )
    div(:class="`${pre}__confirm`" v-if="openConfirmDel")
      div(:class="`${pre}__confirm__content`")
        div(:class="`${pre}__confirm__content__size`")
          er-icon(name="question" :class="`${pre}__confirm__icon-height`")
        div(:class="`${pre}__confirm__content__pos`")
          h4
            | Вы уверены, что хотите удалить карту ?
          h3
            | МИР, 5402 33 ** **** 2365

      div(
      :class="`${pre}__confirm__close`"
      @click="closeConfirm"
      )
        er-icon(name="close")

      er-container(full :class="`${pre}__confirm__container-button`")
        er-row.justify-content-between.no-gutters
          er-flex.pr-28(xs6 )
            er-button(
              type="submit"
              @click="delCard"
              v-if="!visButtConf"
            )
              | Удалить
          er-flex.pr-24.pl-4(xs6)
            er-button.align-items-center(
              type="submit"
              flat=true
              @click="closeConfirm"
              v-if="!visButtConf"
            )
              | Отменить

        er-row.no-gutters(:class="`${pre}__confirm__butt`")
          er-flex(xs3 xl6)
            div(:class="`${pre}__confirm__no__del`")
              a(
                @click="delCard"
                :class="`${pre}__confirm__no__text`"
                v-if="visButtConf"
              ) Удалить
          er-flex(xs4 xl6)
            div(:class="`${pre}__confirm__yes__del`")
              a(
                  @click="closeConfirm"
                  :class="`${pre}__confirm__yes__text`"
                  v-if="visButtConf"
              ) Не удалять
