div(:class="`${pre}`")
  er-preloader(:active="loadingClientInfo")
    h4(:class="`${pre}__organisation-name`")
      | {{ clientName || 'Неизвестная организация' }}
  h1(:class="`${pre}__welcome-title`")
    | Добро пожаловать в личный кабинет

  div(:class="`${pre}__balance--mobile`")
    div.caption.mb-8
      | Ваш баланс
    er-preloader(:active="menuComponentBalance")
      div.d--flex.align-items-center(:class="`${pre}__balance--mobile__wrapper`")
        div.icon
          er-icon(name="wallet_auto")
        router-link(to="/lk/payments").link--solid--yellow.fonts--demi.rub {{ balance || '0.0' }}
        span(v-if="isAutopay") Автоплатёж

  er-container.mb-48(full).container--no-padding
    er-row(no-gutters)
      er-flex(xs12 :class="`${pre}__fast-links`")
        er-row()
          er-flex.mb-16(xs6 xl3)
            er-preloader(:active="loadingDocuments" icon)
              router-link.index-page__fast-link(to="/lk/documents")
                .content(@click="dataLayerPush('mydocuments')")
                  .title
                    | Мои документы
                  .footer.d--flex.align-items-end.mt-auto
                    .new(v-if="getCountUnsignedDocument !== 0")
                      .caption.mb-4
                        | Новые
                      .value
                        | {{ getCountUnsignedDocument }}
                    .icon.ml-auto
                      er-icon(name="doc")
          er-flex.mb-16(xs6 xl3)
            er-preloader(:active="loadingRequest" icon)
              router-link.index-page__fast-link(to="/lk/support")
                .content(@click="dataLayerPush('servicerequest')")
                  .title
                    | Сервисная заявка
                  .footer.d--flex.align-items-end.mt-auto
                    .new(v-if="getCountRequestInWork")
                      .caption.mb-4
                        | В работе
                      .value
                        | {{ getCountRequestInWork }}
                    .icon.ml-auto
                      er-icon(name="service")
          er-flex.mb-16(xs6 xl3)
            er-preloader(:active="loadingPromisedPayment" icon)
              router-link.index-page__fast-link(to="/lk/payments/promise-payments")
                .content(@click="dataLayerPush('futurepayment')")
                  .title
                    | Обещанный платёж
                  .footer.d--flex.align-items-end.mt-auto
                    template(v-if="isPromisePay")
                      .new
                        .caption.mb-4
                          | Осталось:
                        .promised-payment-left
                          span {{ getToDatePromisePay.day }}
                          span :{{ getToDatePromisePay.hour }}
                          span :{{ getToDatePromisePay.minute }}
                      .promised-payment-left__line
                        .promised-payment-left__passed(:style="{ width: `${getWidthPromisePayLine}%` }")
                    template(v-else)
                      .icon.ml-auto
                        er-icon(name="trast_pay")
          er-flex.mb-16(xs6 xl3)
            er-document-viewer(
              :list-document="computedListInvoiceDocument"
              :is-digital-signing="false"
              :is-manual-signing="false"
              v-model="isOpenViewer"
              ref="viewer"
            )
              template(v-slot:activator="{ on }")
                a.index-page__fast-link(href="#", v-on="getEventsForInvPayments(on)")
                  .content(@click="dataLayerPush('paymentreciept')")
                    .title
                      | Счёт на оплату
                    .footer.d--flex.align-items-end.mt-auto
                      .icon.ml-auto
                        er-icon(name="rouble")
  h2(:class="`${pre}__service__title`")
    | Подключенные услуги
  div.mb-24(:class="`${pre}__filters`")
    div(:class="`${pre}__filters--mobile`")
      div.caption.mb-12
        | Фильтровать
      er-slide-up-down(:active="!isOpenFilter")
        div.d--flex.align-items-center(:class="`${pre}__filters--mobile__result`")
          div.icon.mr-16
            er-icon(name="filter_1")
          div.by-sort
            a(@click="openFilterForm") {{ currentFilterLabel }}

      er-slide-up-down(:active="isOpenFilter")
        div(:class="`${pre}__filters--mobile__form`")
          div.d--flex.justify-content-between.mb-24(:class="`${pre}__filters--mobile__form__row`")
            div(:class="`${pre}__filters--mobile__form__input`")
              er-text-field(
                v-if="isPointFiltrationRalized"
                label="Фильтрация по точкам",
                v-model="modelFilterService",
                appendInnerIcon="close",
                @click:append-inner="clearModelFilterService"
              )
            div(:class="`${pre}__filters--mobile__form__close`", @click="closeFilterForm")
              er-icon(name="corner_up")
          div.d--flex(:class="`${pre}__filters--mobile__form__row`")
            .filter-list.flex-grow-1
              .filter-list__label Сортировать по:
              .filter-list__content.justify-content-between
                .filter-list__item(v-for="item in dataFilterSwitch")
                  er-toggle(
                    type="radio"
                    view="radio-check"
                    v-model="modelSortService"
                    :value="item.value"
                    :label="item.label"
                  )
    div.justify-content-between.align-items-end.mb-24(:class="`${pre}__filters--desktop`")
      div(:class="`${pre}__filters--desktop__input`")
        er-text-field(
          v-if="isPointFiltrationRalized"
          label="Фильтрация по точкам",
          v-model="modelFilterService",
          appendInnerIcon="close",
          @click:append-inner="clearModelFilterService"
        )
      .filter-list(:class="`${pre}__filters--desktop__toggle`")
        .filter-list__label Сортировать по:
        .filter-list__content
          .filter-list__item(v-for="item in dataFilterSwitch")
            er-toggle(
              type="radio"
              view="radio-check"
              v-model="modelSortService"
              :value="item.value"
              :label="item.label"
            )

  template(v-if="!isLoadedPackList")
    pu-skeleton(width="300px")
  template(v-else-if="indexPageProductByAddress")
    div(:class="`${pre}__products__loading`")
      .content
        img(:src="require('@/assets/images/preloaders/3.svg')")
  template(v-else-if="isEmptyListProduct")
    div(:class="`${pre}__products__empty`")
      .content
        er-icon(name="no")
        | Нет подключённых продуктов
  template(v-else)
    template(v-if="modelSortService === 'service'")
      serviceList(:list="listProductByService")

    template(v-else-if="modelSortService === 'packs'")
      service-folder.mb-4(
        v-for="(packGroup, packName) in activeBundleGroupList"
        :key="packName"
        :price="packGroup.reduce(packGroupPrice, 0).toString()"
        :title="packName"
        :description="MESSAGES.PACKAGE_DISABLING_TIP"
        icon-name="pack"
      )
        package-item(
          :title="packName"
          :pack-list="packGroup"
          :description="MESSAGES.PACKAGE_DISABLING_TIP"
        )

    template(v-else)
      office-list(:list="listProductByAddress")

  er-toast-stack(
    @click="onClickToast"
  )

  er-activation-modal(
    type="success"
    v-model="isNotAccessInvPayment"
    title="Запрос счёта на оплату недоступен"
    :isShowActionButton="false"
    cancel-button-text="Спасибо"
  )
    template(slot="description")
      | У вас положительный баланс, поэтому запрос информационного счёта недоступен! Приятного пользования услугами Дом.ru

